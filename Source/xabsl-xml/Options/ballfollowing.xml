<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE symbol-and-basic-behavior-files SYSTEM "../symbol-and-basic-behavior-files.dtd">
<option xmlns="http://www.xabsl.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="ballfollowing" initial-state="ballnotfound">
  &mySymbols;
  &myBasicBehaviors;
  &options;
  <common-decision-tree>
    <if>
      <condition description="Ball not found">
        <not>
          <enumerated-input-symbol-comparison>
            <enumerated-input-symbol-ref ref="ballreturn"/>
            <enum-element-ref ref="BallReturns.BALLFOUND"/>
          </enumerated-input-symbol-comparison>
        </not>
      </condition>
      <transition-to-state ref="ballnotfound"/>
    </if>
    <else>
      <if>
        <condition description="Ball is in front">
          <and>
            <less-than-or-equal-to>
              <decimal-input-symbol-ref ref="theta"/>
              <decimal-value value="8"/>
            </less-than-or-equal-to>
            <greater-than-or-equal-to>
              <decimal-input-symbol-ref ref="theta"/>
              <decimal-value value="-8"/>
            </greater-than-or-equal-to>
          </and>
        </condition>
        <if>
          <condition description="Ball is near">
            <less-than>
              <decimal-input-symbol-ref ref="ball.distance"/>
              <decimal-value value="5"/>
            </less-than>
          </condition>
          <transition-to-state ref="preparekick"/>
        </if>
        <else>
          <transition-to-state ref="forward"/>
        </else>
      </if>
      <else>
        <if>
          <condition description="Ball is left">
            <less-than>
              <decimal-input-symbol-ref ref="theta"/>
              <decimal-value value="0"/>
            </less-than>
          </condition>
          <transition-to-state ref="left"/>
        </if>
        <else>
          <if>
            <condition description="Ball is right">
              <greater-than>
                <decimal-input-symbol-ref ref="theta"/>
                <decimal-value value="0"/>
              </greater-than>
            </condition>
            <transition-to-state ref="right"/>
          </if>
        </else>
      </else>
    </else>
  </common-decision-tree>
  <state name="ballnotfound">
    <subsequent-basic-behavior ref="moveAcYuttemp">
      <set-parameter ref="moveAcYuttemp.x">
        <decimal-value value="120"/>
      </set-parameter>
    </subsequent-basic-behavior>
    <decision-tree>
      <transition-to-state ref="ballnotfound"/>
    </decision-tree>
  </state>
  <state name="forward">
    <subsequent-basic-behavior ref="moveAcYuttemp">
      <set-parameter ref="moveAcYuttemp.x">
        <decimal-value value="119"/>
      </set-parameter>
    </subsequent-basic-behavior>
    <decision-tree>
      <transition-to-state ref="forward"/>
    </decision-tree>
  </state>
  <state name="left">
    <subsequent-basic-behavior ref="moveAcYuttemp">
      <set-parameter ref="moveAcYuttemp.x">
        <decimal-value value="97"/>
      </set-parameter>
    </subsequent-basic-behavior>
    <decision-tree>
      <transition-to-state ref="left"/>
    </decision-tree>
  </state>
  <state name="right">
    <subsequent-basic-behavior ref="moveAcYuttemp">
      <set-parameter ref="moveAcYuttemp.x">
        <decimal-value value="100"/>
      </set-parameter>
    </subsequent-basic-behavior>
    <decision-tree>
      <transition-to-state ref="right"/>
    </decision-tree>
  </state>
  <state name="preparekick">
    <subsequent-basic-behavior ref="moveAcYuttemp">
      <set-parameter ref="moveAcYuttemp.x">
        <decimal-value value="120"/>
      </set-parameter>
    </subsequent-basic-behavior>
    <decision-tree>
      <transition-to-state ref="preparekick"/>
    </decision-tree>
  </state>
</option>
